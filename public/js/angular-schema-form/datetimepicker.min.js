"use strict";angular.module("dateTimePicker",["mgcrea.ngStrap.timepicker","mgcrea.ngStrap.datepicker"]).directive("dateTimePicker",function(){return{restrict:"E",templateUrl:"templates/datetimepicker.html",scope:{ngModel:"=",dateFormat:"@",showTimePicker:"@",timeFormat:"@",inputClass:"@",ngDisabled:"=",ngRequired:"=",minDate:"@",dateType:"@",startWeek:"@"},require:["ngModel"],link:{pre:function(e){e.dateFormat=e.dateFormat||"yyyy-MM-dd",e.timeFormat=e.timeFormat||"HH:mm:ss","undefined"==typeof e.showTimePicker?e.showTimePicker=!0:e.showTimePicker=e.showTimePicker||"true"===e.showTimePicker,e.startOfDay=function(e){if(!e)return null;if("today"===e)return e;var t=e.replace(/"/g,"");return new Date(t).setHours(0,0,0,0)}},post:function(e,t,a,r){e.$watch("minDate",function(e){r.filter(function(e){return e.$validators.minDate}).forEach(function(e){e.$validate()})}),r.forEach(function(t){t.$options=t.$options||{},t.$options.allowInvalid=!0,t.$validators.minDate=function(t){if(!t||!e.minDate)return!0;var a="today"===e.minDate?new Date:new Date(e.minDate.replace(/"/g,"")),r=t.getTime()>=a.getTime();return r}})}}}}),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,a){var r=function(t,r,n){if("string"===r.type&&("date-time"===r.format||"date"===r.format)){var i=e.stdFormObj(t,r,n);return i.key=n.path,i.type="datepicker",n.lookup[a.stringify(n.path)]=i,i}};e.defaults.string.unshift(r),t.addMapping("bootstrapDecorator","datepicker","templates/form-datepicker.html")}]),angular.module("dateTimePicker").run(["$templateCache",function(e){e.put("templates/datetimepicker.html",'<input \n	type="text"\n	size="10"\n	class="{{inputClass}}"\n	placeholder="{{dateFormat}}"\n	ng-required="ngRequired"\n	ng-model="ngModel"\n	ng-disabled="ngDisabled"\n	data-date-type="{{dateType}}"\n	data-min-date="{{startOfDay(minDate)}}"\n	data-date-format="{{dateFormat}}"\n	data-start-week="{{startWeek}}"\n	data-autoclose="1"\n	bs-datepicker\n>\n<input \n	type="text"\n	size="8"\n	class="{{inputClass}}"\n	placeholder="{{timeFormat}}"\n	ng-required="ngRequired"\n	ng-model="ngModel"\n	ng-show="{{showTimePicker}}"\n	ng-disabled="ngDisabled"\n	data-time-type="{{dateType}}"\n	data-time-format="{{timeFormat}}"\n	data-autoclose="1"\n	bs-timepicker\n>')}]),angular.module("schemaForm").run(["$templateCache",function(e){e.put("templates/form-datepicker.html",'<div class="form-group {{form.htmlClass}} datetimepicker" ng-class="{\'has-error\': hasError()}">\n	<label class="control-label" ng-show="showTitle()">\n		<i class="fa fa-calendar"></i>\n		{{form.title}}\n	</label>\n	<br/>\n	<date-time-picker\n		schema-validate="form"\n		name="{{form.key.slice(-1)[0]}}"\n		ng-model="$$value$$"\n		date-format="yyyy-MM-dd"\n		time-format="HH:mm:ss"\n		show-time-picker="{{form.schema.format === \'date-time\'}}"\n		input-class="form-control"\n		class="datetimepicker"\n		start-week="{{options.formDefaults.startWeek || 0}}"\n		date-type="iso">\n	</date-time-picker>\n	<div \n		class="help-block"\n		ng-show="(hasError() && errorMessage(schemaError())) || form.description"\n		ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description">\n	</div>\n</div>')}]);